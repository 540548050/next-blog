{"version":3,"file":"1.4435e0613a8efc3439fb.hot-update.js","sources":["webpack:///components/Header/index.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {Layout, Menu, Breadcrumb, Row, Col} from 'antd';\nimport Link from 'next/link'\nimport Head from 'next/head';\nimport TopTips from '../../components/TopTips';\nimport * as ROUTER from '../../config/constantsData';\nimport {postAdminPasswordUrl} from '../../config';\nimport {postAdminPassword} from '../../store/actions';\n\nconst {Header, Content} = Layout;\nconst routes = [\n  {\n    href: ROUTER.INDEX,\n    txt: ROUTER.INDEX_TXT,\n    isSuperAdmin:false\n  },\n  {\n    href: ROUTER.BLOG,\n    txt: ROUTER.BLOG_TXT,\n    isSuperAdmin:false\n  },\n  {\n    href: ROUTER.LIFE,\n    txt: ROUTER.LIFE_TXT,\n    isSuperAdmin:false\n  },\n  {\n    href: ROUTER.ABOUT,\n    txt: ROUTER.ABOUT_TXT,\n    isSuperAdmin:false\n  },\n  {\n    href: ROUTER.ADMIN,\n    txt: ROUTER.ADMIN_TXT,\n    isSuperAdmin:true\n  },\n  {\n    href: ROUTER.POST_ARTICLE,\n    txt: ROUTER.POST_ARTICLE_TXT,\n    isSuperAdmin:true\n  },\n  {\n    href: 'javascript:;',\n    txt: '退出',\n    isSuperAdmin:true,\n    exit:true\n  },\n]\n\nclass TopNav extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: false\n    }\n  }\n\n\n\n  componentDidMount() {\n    const {dispatch} = this.props;\n    const {password=''} = localStorage;\n    if(!password){\n      return ;\n    }\n    postAdminPassword(dispatch, postAdminPasswordUrl(), {password: password}).then(res => {\n      const {postAdminPasswordData = []} = res;\n      if(postAdminPasswordData.length){\n        this.setState({\n          isLogin: true\n        })\n      }\n    })\n  }\n  render() {\n    const {isLogin} = this.state;\n    let newRoutes;\n    if(isLogin){\n      newRoutes=routes\n    }else {\n      newRoutes=routes.filter(v=>!v.isSuperAdmin)\n    }\n    return (\n      <div>\n        <Head>\n          <meta name='viewport' content='width=device-width, initial-scale=1'/>\n          <meta charSet='utf-8'/>\n          <link rel='stylesheet' href='/_next/static/style.css'/>\n        </Head>\n        <Layout>\n          <Header style={{position: 'fixed', height: '64px', width: '100%', padding: 0, zIndex: 10}}>\n            <Row>\n              <Col span={2}></Col>\n              <Col span={17}>\n                <Menu\n                  theme=\"dark\"\n                  mode=\"horizontal\"\n                  defaultSelectedKeys={['/']}\n                  style={{lineHeight: '64px'}}\n                >\n                  {\n                    newRoutes.map((item, index) => {\n                      return item.exit?\n                        <Menu.Item key={item.href}>\n                          <Link href={item.href}>\n                            <a>{item.txt}</a>\n                          </Link>\n                        </Menu.Item>\n                        :\n                        <Menu.Item key={item.href}>\n                          <Link href={item.href}>\n                            <a>{item.txt}</a>\n                          </Link>\n                        </Menu.Item>\n                      \n                    })\n                  }\n                </Menu>\n              </Col>\n            </Row>\n          </Header>\n          <Content style={{padding: '0 50px', marginTop: 64}}>\n            <TopTips/>\n          </Content>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const {postAdminPasswordData} = state\n  return {postAdminPasswordData};\n}\nexport default connect(mapStateToProps)(TopNav)\n\n\n\n\n// WEBPACK FOOTER //\n// components/Header/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAJA;AACA;AAOA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AAGA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;;;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA9EA;AACA;AAgFA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;;;;A","sourceRoot":""}