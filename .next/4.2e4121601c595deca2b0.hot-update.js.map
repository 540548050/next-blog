{"version":3,"file":"4.2e4121601c595deca2b0.hot-update.js","sources":["webpack:///components/EditArticle/index.js"],"sourcesContent":["import React, {Component} from 'react'\nimport {Layout, Menu, Breadcrumb, Row, Col} from 'antd'\nimport {List, Avatar, Icon, Pagination, Alert, Input, Button, Select} from 'antd'\nimport {connect} from 'react-redux'\n\nimport Edit from '../../components/Edit';\n\nimport {postArticleUrl} from '../../config';\nimport {postArticle} from '../../store/actions';\n\nconst {TextArea} = Input;\nconst Option = Select.Option;\n\nclass EditArticle extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectVal: '',\n      titleVal: '',\n      shortVal: '',\n      urlVal: '',\n      editCont: '',\n      isEdit:false //默认不为修改文章\n    }\n  }\n\n  componentWillMount() {\n    const {dataSource = {}} = this.props;\n    const {title, short, type, url, content} = dataSource;\n    console.log(dataSource)\n\n    this.setState({\n      selectVal: type,\n      titleVal: title,\n      shortVal: short,\n      urlVal: url,\n      editCont: content\n    })\n  }\n\n  handleChangeSelect(value) {\n    this.setState({\n      selectVal: value\n    })\n  }\n\n  handleChangeTitle(e) {\n    this.setState({\n      titleVal: e.target.value\n    })\n  }\n\n  handleChangeUrl(e) {\n    this.setState({\n      urlVal: e.target.value\n    })\n  }\n\n  handleChangeShort(e) {\n    this.setState({\n      shortVal: e.target.value\n    })\n  }\n\n  //编辑器内容\n  handleChangeMarkEdit(txt,edit) {\n    this.setState({\n      editCont: txt,\n      isEdit:edit==='edit'\n    })\n  }\n\n  onSubmit() {\n    const {dispatch} = this.props;\n    const {isEdit} = this.state;\n    console.log(isEdit)\n    return ;\n    const {\n      selectVal,\n      titleVal,\n      shortVal,\n      urlVal,\n      editCont\n    } = this.state;\n\n    postArticle(dispatch, postArticleUrl(), {\n      title: titleVal,\n      url: urlVal,\n      content: encodeURIComponent(editCont),\n      user: '刘伟波',\n      type: selectVal,\n      short: shortVal,\n      img: 'js.png'\n    })\n  }\n\n  render() {\n    const {\n      editCont='',\n      selectVal='',\n      titleVal='',\n      shortVal='',\n      urlVal=''\n    } = this.state;\n    const {dataSource = {}} = this.props;\n    const {createTime} = dataSource;\n    return (\n      <div>\n        <Row>\n          <Col span={20}>\n            <Input\n              defaultValue={titleVal} onChange={this.handleChangeTitle.bind(this)} placeholder=\"文章标题\"/>\n          </Col>\n          <Col span={1}>\n          </Col>\n          <Col span={3}>\n            <Select defaultValue={selectVal===''?'文章类型':selectVal} style={{width: '100%'}} onChange={this.handleChangeSelect.bind(this)}>\n              <Option value=\"h5\">html</Option>\n              <Option value=\"css\">css</Option>\n              <Option value=\"js\">javascript</Option>\n              <Option value=\"vue\">vue</Option>\n              <Option value=\"react\">react</Option>\n              <Option value=\"angular\">angular</Option>\n              <Option value=\"node\">node</Option>\n              <Option value=\"php\">php</Option>\n              <Option value=\"mysql\">mysql</Option>\n              <Option value=\"server\">服务器之类</Option>\n              <Option value=\"interesting\">生活喜好</Option>\n              <Option value=\"fight\">激励向上</Option>\n              <Option value=\"others\">其他</Option>\n            </Select>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            <Input\n              defaultValue={urlVal} onChange={this.handleChangeUrl.bind(this)} placeholder=\"原文的URL链接地址\"/>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n                                    <TextArea\n                                      onChange={this.handleChangeShort.bind(this)}\n                                      placeholder='简短介绍'\n                                      defaultValue={shortVal}\n                                      rows={2}/>\n          </Col>\n        </Row>\n        <Edit editCont={editCont} createTime={createTime} handleChangeMarkEdit={this.handleChangeMarkEdit.bind(this)}/>\n        <Button type=\"primary\" onClick={this.onSubmit.bind(this)}>提交</Button>\n      </div>\n    );\n  }\n}\n\nexport default connect()(EditArticle)\n\n\n\n// WEBPACK FOOTER //\n// components/EditArticle/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAUA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AAAA;AAAA;AAGA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA3IA;AACA;AA6IA;;;;A","sourceRoot":""}