{"version":3,"file":"4.3a782edb8d1ab20893d4.hot-update.js","sources":["webpack:///components/Header/index.js","webpack:///config/constantsData.js","webpack:///config/env.js","webpack:///config/index.js","webpack:///pages/AdminDetail/index.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {Layout, Menu, Breadcrumb, Row, Col} from 'antd';\r\nimport Link from 'next/link'\r\nimport Head from 'next/head';\r\nimport TopTips from '../../components/TopTips';\r\nimport * as ROUTER from '../../config/constantsData';\r\n\r\nconst {Header, Content} = Layout;\r\nconst routes = [\r\n  {\r\n    href: ROUTER.INDEX,\r\n    txt: ROUTER.INDEX_TXT\r\n  },\r\n  {\r\n    href: ROUTER.BLOG,\r\n    txt: ROUTER.BLOG_TXT\r\n  },\r\n  {\r\n    href: ROUTER.ADMIN,\r\n    txt: ROUTER.ADMIN_TXT\r\n  },\r\n  {\r\n    href: ROUTER.LIFE,\r\n    txt: ROUTER.LIFE_TXT\r\n  },\r\n  {\r\n    href: ROUTER.TEST,\r\n    txt: ROUTER.TEST_TXT\r\n  },\r\n  {\r\n    href: ROUTER.POST_ARTICLE,\r\n    txt: ROUTER.POST_ARTICLE_TXT\r\n  },\r\n]\r\nconst TopNav = (props) => (\r\n  <div>\r\n    <Head>\r\n      <meta name='viewport' content='width=device-width, initial-scale=1'/>\r\n      <meta charSet='utf-8'/>\r\n      <link rel='stylesheet' href='/_next/static/style.css'/>\r\n    </Head>\r\n    <Layout>\r\n      <Header style={{position: 'fixed', height: '64px', width: '100%', padding: 0, zIndex: 10}}>\r\n        <Row>\r\n          <Col span={2}></Col>\r\n          <Col span={17}>\r\n            <Menu\r\n              theme=\"dark\"\r\n              mode=\"horizontal\"\r\n              defaultSelectedKeys={['2']}\r\n              style={{lineHeight: '64px'}}\r\n            >\r\n              {\r\n                routes.map((item,index)=>(\r\n                  <Menu.Item key={item.href}>\r\n                    <Link href={item.href}>\r\n                      <a>{item.txt}</a>\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))\r\n              }\r\n            </Menu>\r\n          </Col>\r\n        </Row>\r\n      </Header>\r\n      <Content style={{padding: '0 50px', marginTop: 64}}>\r\n        <TopTips/>\r\n      </Content>\r\n    </Layout>\r\n  </div>\r\n)\r\nexport default TopNav\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// components/Header/index.js","export const DEV_DOMAIN = 'http://localhost:7654';\r\n\r\n\r\nexport const pageNum = 10;//分页数\r\nexport const TITLE = 'title'\r\nexport const ALL = 'all'\r\n\r\n//导航路由\r\nexport const INDEX = '/'\r\nexport const INDEX_TXT = '网站首页'\r\nexport const BLOG = '/Blog'\r\nexport const BLOG_TXT = '文章列表'\r\nexport const ADMIN = '/Admin'\r\nexport const ADMIN_TXT = '后台管理'\r\nexport const LIFE = '/Life'\r\nexport const LIFE_TXT = '生活记录'\r\nexport const TEST = '/Test'\r\nexport const TEST_TXT = '测试'\r\nexport const POST_ARTICLE = '/PostArticle'\r\nexport const POST_ARTICLE_TXT = '发布文章'\r\n\r\n//seo\r\nexport const COMMON_TITLE = '>>刘伟波-天天向上'\r\nexport const INDEX_TITLE = '刘伟波的个人主页'\r\n\n\n\n// WEBPACK FOOTER //\n// config/constantsData.js","import {DEV_DOMAIN} from './constantsData';\r\n\r\nexport function getDomain () {\r\n  return DEV_DOMAIN+'/';\r\n}\n\n\n// WEBPACK FOOTER //\n// config/env.js","import {getDomain} from \"./env\";\r\nimport {toQueryStr} from '../until';\r\n\r\n//前台\r\nexport const getBlogUrl = (obj) => {\r\n  return getDomain() + 'api/getBlog' + toQueryStr(obj);\r\n}\r\nexport const getDetailUrl = (obj) => {\r\n  return getDomain() + 'api/detail' + toQueryStr(obj);\r\n}\r\nexport const getTotalUrl = (obj) => {\r\n  return getDomain() + 'api/total' + toQueryStr(obj);\r\n}\r\nexport const getLastIdUrl = (obj) => {\r\n  return getDomain() + 'api/lastId' + toQueryStr(obj);\r\n}\r\n\r\nexport const getNextIdUrl = (obj) => {\r\n  return getDomain() + 'api/nextId' + toQueryStr(obj);\r\n}\r\n\r\n\r\nexport const getCommentsUrl = (obj) => {\r\n  return getDomain() + 'api/comments' + toQueryStr(obj);\r\n}\r\nexport const postCommentUrl = () => {\r\n  return getDomain() + 'api/postComment';\r\n}\r\n\r\nexport const getLifeUrl = () => {\r\n  //生活板块\r\n  return getDomain() + 'api/life';\r\n}\r\n\r\n//后台\r\nexport const getAdminBlogUrl = (obj) => {\r\n  return getDomain() + 'api/getAdminBlog'+ toQueryStr(obj);;\r\n}\r\n\r\n// export const getBlogUrl = domain+'/api/getBlog'\r\n// export const getTotalUrl = domain+'/api/total'\r\n// export const getLifeUrl = domain+'/api/life'\r\n// export const getDetailUrl = domain+'/api/detail'\r\n// export const getLastIdUrl = domain+'/api/lastId'\r\n// export const getNextIdUrl = domain+'/api/nextId'\r\n// export const getCommentsUrl = domain+'/api/comments'\r\n// export const postArticleUrl = domain+'/api/postArticle'\r\n// export const postCommentUrl = domain+'/api/postComment'\r\n\r\n\r\n// export const getAdminBlogUrl = domain + '/api/getAdminBlog'\r\n// export const getAdminCommentsUrl = domain + '/api/getAdminComments'\r\n// export const postAdminDetailUrl = domain + '/api/postAdminDetail'\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// config/index.js","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {\r\n  Layout, Menu, Breadcrumb, Row, Col, BackTop, Card, Form,\r\n  Input, Tooltip, Cascader, Select, Checkbox, Button,\r\n  AutoComplete, List, Avatar, Icon, Divider\r\n} from 'antd';\r\nimport 'whatwg-fetch'\r\nimport Head from 'next/head';\r\n\r\nimport Header from '../../components/Header';\r\nimport ArticleTitle from '../../components/ArticleTitle';\r\nimport {COMMON_TITLE} from '../../config/constantsData';\r\nimport {getDetailUrl} from '../../config';\r\nimport {getArticleInfo} from '../../until';\r\n\r\nconst {Content} = Layout;\r\n\r\nconst FormItem = Form.Item;\r\nconst { TextArea } = Input;\r\nconst AutoCompleteOption = AutoComplete.Option;\r\nclass AdminDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      autoCompleteResult:[1,2],\r\n      articleID:''\r\n    }\r\n  }\r\n  componentWillMount(){\r\n    const {adminBlogDetailData = []} = this.props;\r\n    let {id:articleID} = adminBlogDetailData[0] || {};\r\n    this.setState({\r\n      articleID\r\n    })\r\n  }\r\n  handleWebsiteChange = (value) => {\r\n    let autoCompleteResult;\r\n    if (!value) {\r\n      autoCompleteResult = [];\r\n    } else {\r\n      autoCompleteResult = ['.com', '.org', '.net'].map(domain => `${value}${domain}`);\r\n    }\r\n    this.setState({autoCompleteResult});\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const {dispatch} = this.props;\r\n    let {articleID:id} = this.state;\r\n    if(!id){\r\n      return;\r\n    }\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        const {comment,email,nickname,website} = values;\r\n        console.log('Received values of form: ', values);\r\n\r\n        console.log({id,comment,email,nickname,website})\r\n\r\n      }\r\n    });\r\n  }\r\n  render() {\r\n    //接口\r\n    console.log(this.props)\r\n    let {adminBlogDetailData=[]} = this.props;\r\n    const objArticleInfo = getArticleInfo(adminBlogDetailData)\r\n    adminBlogDetailData=adminBlogDetailData[0] || {}\r\n\r\n    //表单\r\n    const {getFieldDecorator} = this.props.form;\r\n    const {autoCompleteResult} = this.state;\r\n\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: {span: 24},\r\n        sm: {span: 8},\r\n      },\r\n      wrapperCol: {\r\n        xs: {span: 24},\r\n        sm: {span: 16},\r\n      },\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8,\r\n        },\r\n      },\r\n    };\r\n\r\n    const websiteOptions = autoCompleteResult.map(website => (\r\n      <AutoCompleteOption key={website}>{website}</AutoCompleteOption>\r\n    ));\r\n    return (\r\n      <div className=\"detail\">\r\n        <Head>\r\n          <title>{COMMON_TITLE}</title>\r\n        </Head>\r\n        <Header/>\r\n        <Layout>\r\n          <Content style={{padding: '0 50px'}}>\r\n            <div style={{background: '#fff', padding: 24, minHeight: 380}}>\r\n              <Form onSubmit={this.handleSubmit}>\r\n                <FormItem\r\n                  {...formItemLayout}\r\n                  label={(\r\n                    <span>\r\n              Nickname&nbsp;\r\n                      <Tooltip title=\"What do you want others to call you?\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n                  )}\r\n                >\r\n                  {getFieldDecorator('文章标题', {\r\n                    rules: [{ required: true, message: 'Please input 文章标题!', whitespace: true }],\r\n                    initialValue:objArticleInfo.title\r\n                  })(\r\n                    <Input />\r\n                  )}\r\n                </FormItem>\r\n                <FormItem\r\n                  {...formItemLayout}\r\n                  label=\"原文url地址\"\r\n                >\r\n                  {getFieldDecorator('url', {\r\n                    rules: [{\r\n                      type: 'email', message: 'The input is not valid url!',\r\n                    }, {\r\n                      required: false, message: 'Please input your url!',\r\n                    }],\r\n                    initialValue:objArticleInfo.url\r\n                  })(\r\n                    <Input/>\r\n                  )}\r\n                </FormItem>\r\n                <FormItem\r\n                  {...formItemLayout}\r\n                  label=\"Website\"\r\n                >\r\n                  {getFieldDecorator('website', {\r\n                    rules: [{required: false, message: 'Please input website!'}],\r\n                  })(\r\n                    <AutoComplete\r\n                      dataSource={websiteOptions}\r\n                      onChange={this.handleWebsiteChange}\r\n                      placeholder=\"website\"\r\n                    >\r\n                      <Input/>\r\n                    </AutoComplete>\r\n                  )}\r\n                </FormItem>\r\n                <FormItem\r\n                  {...formItemLayout}\r\n                  label=\"简短介绍\"\r\n                >\r\n                  {getFieldDecorator('short', {\r\n                    rules: [ {\r\n                      required: false, message: 'Please input your E-mail!',\r\n                    }],\r\n                    initialValue:objArticleInfo.short\r\n                  })(\r\n                    <TextArea/>\r\n                  )}\r\n                </FormItem>\r\n                <FormItem {...tailFormItemLayout}>\r\n                  <Button type=\"primary\" htmlType=\"submit\">提交评论</Button>\r\n                </FormItem>\r\n              </Form>\r\n              <ArticleTitle detailArticle={adminBlogDetailData}/>\r\n              <div>admindetail</div>\r\n            </div>\r\n          </Content>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAdminDetail.getInitialProps = async function (context) {\r\n  const {id} = context.query\r\n  console.log('admin id',id)\r\n  let queryStrObj = {id};\r\n  const adminBlogDetail = await fetch(getDetailUrl(queryStrObj))\r\n  const adminBlogDetailData = await adminBlogDetail.json()\r\n\r\n\r\n  return {adminBlogDetailData}\r\n}\r\nconst WrappedRegistrationForm = Form.create()(AdminDetail);\r\nexport default WrappedRegistrationForm;\n\n\n// WEBPACK FOOTER //\n// pages/AdminDetail/index.js"],"mappings":"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","sourceRoot":""}