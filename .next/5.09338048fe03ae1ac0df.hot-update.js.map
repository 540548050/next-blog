{"version":3,"file":"5.09338048fe03ae1ac0df.hot-update.js","sources":["webpack:///components/EditArticle/index.js","webpack:///./node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js"],"sourcesContent":["import React, {Component} from 'react'\r\nimport {Layout, Menu, Breadcrumb, Row, Col,List, Avatar, Icon, Pagination, Alert, Input, Button, Select,message} from 'antd'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Edit from '../../components/Edit';\r\n\r\nimport {postArticleUrl} from '../../config';\r\nimport {postArticle} from '../../store/actions';\r\n\r\nconst {TextArea} = Input;\r\nconst Option = Select.Option;\r\n\r\nclass EditArticle extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      selectVal: '',\r\n      titleVal: '',\r\n      shortVal: '',\r\n      urlVal: '',\r\n      editCont: '',\r\n      isEdit:'' //空值默认不为修改文章\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const {dataSource = {}} = this.props;\r\n    const {title, short, type, url, content,articleID=''} = dataSource;\r\n\r\n    this.setState({\r\n      selectVal: type,\r\n      titleVal: title,\r\n      shortVal: short,\r\n      urlVal: url,\r\n      editCont: content,\r\n      isEdit:articleID\r\n    })\r\n  }\r\n\r\n  handleChangeSelect(value) {\r\n    this.setState({\r\n      selectVal: value\r\n    })\r\n  }\r\n\r\n  handleChangeTitle(e) {\r\n    this.setState({\r\n      titleVal: e.target.value\r\n    })\r\n  }\r\n\r\n  handleChangeUrl(e) {\r\n    this.setState({\r\n      urlVal: e.target.value\r\n    })\r\n  }\r\n\r\n  handleChangeShort(e) {\r\n    this.setState({\r\n      shortVal: e.target.value\r\n    })\r\n  }\r\n\r\n  //编辑器内容\r\n  handleChangeMarkEdit(txt) {\r\n    this.setState({\r\n      editCont: txt\r\n    })\r\n  }\r\n\r\n  onSubmit() {\r\n    const {dispatch} = this.props;\r\n    const {isEdit} = this.state;\r\n    const {\r\n      selectVal='',\r\n      titleVal='',\r\n      shortVal='',\r\n      urlVal='',\r\n      editCont='',\r\n      isEdit:id\r\n    } = this.state;\r\n    let queryParamsObj={\r\n      title: titleVal,\r\n      url: urlVal,\r\n      content: encodeURIComponent(editCont),\r\n      user: '刘伟波',\r\n      type: selectVal,\r\n      short: shortVal,\r\n      img: 'js.png'\r\n    };\r\n    if(isEdit!==''){\r\n      //修改文章 isEdit为文章id\r\n      queryParamsObj=Object.assign({},queryParamsObj,{id})\r\n    }\r\n    if(titleVal===''||selectVal===''||editCont===''){\r\n      message.error('必填项不能为空')\r\n      return ;\r\n    }\r\n\r\n    postArticle(dispatch, postArticleUrl(), queryParamsObj).then(res=>{\r\n      if(res){\r\n        message.success('发布文章成功')\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      editCont='',\r\n      selectVal='',\r\n      titleVal='',\r\n      shortVal='',\r\n      urlVal=''\r\n    } = this.state;\r\n    const {dataSource = {}} = this.props;\r\n    const {createTime} = dataSource;\r\n    return (\r\n      <div>\r\n        <Row>\r\n          <Col span={20}>\r\n            <Input\r\n              defaultValue={titleVal} onChange={this.handleChangeTitle.bind(this)} placeholder=\"文章标题\"/>\r\n          </Col>\r\n          <Col span={1}>\r\n          </Col>\r\n          <Col span={3}>\r\n            <Select defaultValue={selectVal===''?'文章类型':selectVal} style={{width: '100%'}} onChange={this.handleChangeSelect.bind(this)}>\r\n              <Option value=\"h5\">html</Option>\r\n              <Option value=\"css\">css</Option>\r\n              <Option value=\"js\">javascript</Option>\r\n              <Option value=\"vue\">vue</Option>\r\n              <Option value=\"react\">react</Option>\r\n              <Option value=\"angular\">angular</Option>\r\n              <Option value=\"node\">node</Option>\r\n              <Option value=\"php\">php</Option>\r\n              <Option value=\"mysql\">mysql</Option>\r\n              <Option value=\"server\">服务器之类</Option>\r\n              <Option value=\"interesting\">生活喜好</Option>\r\n              <Option value=\"fight\">激励向上</Option>\r\n              <Option value=\"others\">其他</Option>\r\n            </Select>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col span={24}>\r\n            <Input\r\n              defaultValue={urlVal} onChange={this.handleChangeUrl.bind(this)} placeholder=\"原文的URL链接地址\"/>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col span={24}>\r\n                                    <TextArea\r\n                                      onChange={this.handleChangeShort.bind(this)}\r\n                                      placeholder='简短介绍'\r\n                                      defaultValue={shortVal}\r\n                                      rows={2}/>\r\n          </Col>\r\n        </Row>\r\n        <Edit editCont={editCont} createTime={createTime} handleChangeMarkEdit={this.handleChangeMarkEdit.bind(this)}/>\r\n        <Button type=\"primary\" onClick={this.onSubmit.bind(this)}>提交</Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(EditArticle)\r\n\n\n\n// WEBPACK FOOTER //\n// components/EditArticle/index.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\n// module id = ./node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\n// module chunks = 5"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAUA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAtJA;AACA;AAwJA;;;;;;;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}