{"version":3,"file":"9.17ed0fd06ba9ef5e9a25.hot-update.js","sources":["webpack:///components/EditArticle/index.js","webpack:///config/constantsData.js","webpack:///config/env.js","webpack:///pages/AdminDetail/index.js","webpack:///store/actions.js"],"sourcesContent":["import React, {Component} from 'react'\nimport {Layout, Menu, Breadcrumb, Row, Col} from 'antd'\nimport {List, Avatar, Icon, Pagination, Alert, Input, Button, Select} from 'antd'\nimport {connect} from 'react-redux'\n\nimport Edit from '../../components/Edit';\n\nimport {postArticleUrl} from '../../config';\nimport {postArticle} from '../../store/actions';\n\nconst {TextArea} = Input;\nconst Option = Select.Option;\n\nclass EditArticle extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectVal: '',\n      titleVal: '',\n      shortVal: '',\n      urlVal: '',\n      editCont: ''\n    }\n  }\n\n  componentWillMount() {\n    const {dataSource = {}} = this.props;\n    const {title, short, type, url, content} = dataSource;\n\n    this.setState({\n      selectVal: type,\n      titleVal: title,\n      shortVal: short,\n      urlVal: url,\n      editCont: content\n    })\n  }\n\n  handleChangeSelect(value) {\n    this.setState({\n      selectVal: value\n    })\n  }\n\n  handleChangeTitle(e) {\n    this.setState({\n      titleVal: e.target.value\n    })\n  }\n\n  handleChangeUrl(e) {\n    this.setState({\n      urlVal: e.target.value\n    })\n  }\n\n  handleChangeShort(e) {\n    this.setState({\n      shortVal: e.target.value\n    })\n  }\n\n  //编辑器内容\n  handleChangeMarkEdit(txt) {\n    this.setState({\n      editCont: txt\n    })\n  }\n\n  onSubmit() {\n    const {dispatch} = this.props;\n    const {\n      selectVal,\n      titleVal,\n      shortVal,\n      urlVal,\n      editCont\n    } = this.state;\n\n    postArticle(dispatch, postArticleUrl(), {\n      title: titleVal,\n      url: urlVal,\n      content: encodeURIComponent(editCont),\n      user: '刘伟波',\n      type: selectVal,\n      short: shortVal,\n      img: 'js.png'\n    })\n  }\n\n  render() {\n    const {\n      editCont='',\n      selectVal='',\n      titleVal='',\n      shortVal='',\n      urlVal=''\n    } = this.state;\n    return (\n      <div>\n        <Row>\n          <Col span={20}>\n            <Input\n              defaultValue={titleVal} onChange={this.handleChangeTitle.bind(this)} placeholder=\"文章标题\"/>\n          </Col>\n          <Col span={1}>\n          </Col>\n          <Col span={3}>\n            <Select defaultValue={selectVal===''?'文章类型':selectVal} style={{width: '100%'}} onChange={this.handleChangeSelect.bind(this)}>\n              <Option value=\"h5\">html</Option>\n              <Option value=\"css\">css</Option>\n              <Option value=\"js\">javascript</Option>\n              <Option value=\"vue\">vue</Option>\n              <Option value=\"react\">react</Option>\n              <Option value=\"angular\">angular</Option>\n              <Option value=\"node\">node</Option>\n              <Option value=\"php\">php</Option>\n              <Option value=\"mysql\">mysql</Option>\n              <Option value=\"server\">服务器之类</Option>\n              <Option value=\"interesting\">生活喜好</Option>\n              <Option value=\"fight\">激励向上</Option>\n              <Option value=\"others\">其他</Option>\n            </Select>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            <Input\n              defaultValue={urlVal} onChange={this.handleChangeUrl.bind(this)} placeholder=\"原文的URL链接地址\"/>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n                                    <TextArea\n                                      onChange={this.handleChangeShort.bind(this)}\n                                      placeholder='简短介绍'\n                                      defaultValue={shortVal}\n                                      rows={2}/>\n          </Col>\n        </Row>\n        <Edit editCont={editCont} handleChangeMarkEdit={this.handleChangeMarkEdit.bind(this)}/>\n        <Button type=\"primary\" onClick={this.onSubmit.bind(this)}>提交</Button>\n      </div>\n    );\n  }\n}\n\nexport default connect()(EditArticle)\n\n\n\n// WEBPACK FOOTER //\n// components/EditArticle/index.js","export const DEV_DOMAIN = 'http://localhost:7654';\n\n\nexport const pageNum = 10;//分页数\nexport const TITLE = 'title'\nexport const ALL = 'all'\n\n//导航路由\nexport const INDEX = '/'\nexport const INDEX_TXT = '网站首页'\nexport const BLOG = '/Blog'\nexport const BLOG_TXT = '文章列表'\nexport const ADMIN = '/Admin'\nexport const ADMIN_TXT = '后台管理'\nexport const LIFE = '/Life'\nexport const LIFE_TXT = '生活记录'\nexport const TEST = '/Test'\nexport const TEST_TXT = '测试'\nexport const POST_ARTICLE = '/PostArticle'\nexport const POST_ARTICLE_TXT = '发布文章'\n\n//seo\nexport const COMMON_TITLE = '>>刘伟波-天天向上'\nexport const INDEX_TITLE = '刘伟波的个人主页'\n\n\n\n// WEBPACK FOOTER //\n// config/constantsData.js","import {DEV_DOMAIN} from './constantsData';\n\nexport function getDomain () {\n  return DEV_DOMAIN+'/';\n}\n\n\n// WEBPACK FOOTER //\n// config/env.js","import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport {\n  Layout, Menu, Breadcrumb, Row, Col, BackTop, Card, Form,\n  Input, Tooltip, Cascader, Select, Checkbox, Button,\n  AutoComplete, List, Avatar, Icon, Divider\n} from 'antd';\nimport 'whatwg-fetch'\nimport Head from 'next/head';\n\nimport ArticleTitle from '../../components/ArticleTitle';\nimport EditArticle from '../../components/EditArticle';\nimport {COMMON_TITLE} from '../../config/constantsData';\nimport {getDetailUrl} from '../../config';\nimport {getArticleInfo} from '../../until';\n\nconst {Content} = Layout;\n\nconst FormItem = Form.Item;\nconst { TextArea } = Input;\nconst AutoCompleteOption = AutoComplete.Option;\nclass AdminDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      autoCompleteResult:[1,2],\n      articleID:''\n    }\n  }\n  componentWillMount(){\n    const {adminBlogDetailData = []} = this.props;\n    let {id:articleID} = adminBlogDetailData[0] || {};\n    this.setState({\n      articleID\n    })\n  }\n  handleWebsiteChange = (value) => {\n    let autoCompleteResult;\n    if (!value) {\n      autoCompleteResult = [];\n    } else {\n      autoCompleteResult = ['.com', '.org', '.net'].map(domain => `${value}${domain}`);\n    }\n    this.setState({autoCompleteResult});\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {dispatch} = this.props;\n    let {articleID:id} = this.state;\n    if(!id){\n      return;\n    }\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        const {comment,email,nickname,website} = values;\n        console.log('Received values of form: ', values);\n\n        console.log({id,comment,email,nickname,website})\n\n      }\n    });\n  }\n  render() {\n    //接口\n    console.log(this.props)\n    let {adminBlogDetailData=[]} = this.props;\n    const objArticleInfo = getArticleInfo(adminBlogDetailData)\n    const {title='',url='',short='',type=''} = objArticleInfo\n    adminBlogDetailData=adminBlogDetailData[0] || {}\n\n\n    return (\n      <div className=\"detail\">\n        <Head>\n          <title>{COMMON_TITLE}</title>\n        </Head>\n        <Layout>\n          <Content style={{padding: '0 50px'}}>\n            <div style={{background: '#fff', padding: 24, minHeight: 380}}>\n              <ArticleTitle detailArticle={adminBlogDetailData}/>\n              <EditArticle dataSource={adminBlogDetailData}/>\n            </div>\n\n          </Content>\n        </Layout>\n      </div>\n    );\n  }\n}\nAdminDetail.getInitialProps = async function (context) {\n  const {id} = context.query\n  let queryStrObj = {id};\n  const adminBlogDetail = await fetch(getDetailUrl(queryStrObj))\n  const adminBlogDetailData = await adminBlogDetail.json()\n\n\n  return {adminBlogDetailData}\n}\nconst WrappedRegistrationForm = Form.create()(AdminDetail);\nexport default WrappedRegistrationForm;\n\n\n// WEBPACK FOOTER //\n// pages/AdminDetail/index.js","import {actionTypes} from \"./action-types\";\nimport fetch from 'isomorphic-unfetch'\n\n//前台\nexport const getSearchPageList = async (dispatch, url) => {\n  //点击搜索分页搜索到的文章列表\n  const res = await fetch(url)\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.SEARCH_PAGE_DATA, searchData: jsonData})\n}\nexport const getSearchList = async (dispatch, url) => {\n  //第一次搜索到的文章列表\n  const res = await fetch(url)\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.SEARCH_DATA, searchData: jsonData})\n\n}\nexport const getSearchTotal = async (dispatch, url) => {\n  //搜索的所有页数\n  const res = await fetch(url)\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.GET_SEARCH_TOTAL_DATA, searchTotalData: jsonData})\n\n}\nexport const getLifeList = async (dispatch, url) => {\n  //生活板块\n  const res = await fetch(url)\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.GET_LIFE, lifeData: jsonData})\n\n}\n\nexport const postComments = async (dispatch, url,body) => {\n  //发布评论,然后获得更新后的评论\n  const res = await fetch(url,{\n    method: 'POST',\n    body:JSON.stringify(body)\n  })\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.POST_COMMENTS, getCommentsData: jsonData})\n\n}\nexport const postArticle = async (dispatch, url,body) => {\n  //发布文章\n  const res = await fetch(url,{\n    method: 'POST',\n    body:JSON.stringify(body)\n  })\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.POST_ARTICLE, postArticleData: jsonData})\n\n}\n\n//后台\n\nexport const getAdminBlogList = async (dispatch, url) => {\n  //点击搜索分页搜索到的文章列表\n  const res = await fetch(url)\n  const jsonData = await res.json()\n  return dispatch({type: actionTypes.GET_ADMIN_DATA, adminBlogData: jsonData})\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// store/actions.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AASA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAnIA;AACA;AAqIA;;;;;;;;ACnJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AADA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAvCA;AAEA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AADA;AAGA;;;AA2BA;AACA;AACA;AAFA;AAAA;AAIA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAlEA;AACA;AAmEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAJA;AAOA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnGA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AACA;AAHA;AAEA;AAFA;AAAA;AACA;AADA;AAMA;AANA;AAOA;AAAA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AACA;AAHA;AAEA;AAFA;AAAA;AACA;AADA;AAMA;AANA;AAOA;AAAA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAIA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}