{"version":3,"file":"9.b7c4314b748169d985d9.hot-update.js","sources":["webpack:///pages/AdminDetail/index.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport {\n  Layout, Menu, Breadcrumb, Row, Col, BackTop, Card, Form,\n  Input, Tooltip, Cascader, Select, Checkbox, Button,\n  AutoComplete, List, Avatar, Icon, Divider\n} from 'antd';\nimport 'whatwg-fetch'\nimport Head from 'next/head';\n\nimport ArticleTitle from '../../components/ArticleTitle';\nimport EditArticle from '../../components/EditArticle';\nimport {COMMON_TITLE} from '../../config/constantsData';\nimport {getDetailUrl} from '../../config';\nimport {getArticleInfo} from '../../until';\n\nconst {Content} = Layout;\n\nconst FormItem = Form.Item;\nconst { TextArea } = Input;\nconst AutoCompleteOption = AutoComplete.Option;\nclass AdminDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      autoCompleteResult:[1,2],\n      articleID:''\n    }\n  }\n  componentWillMount(){\n    const {adminBlogDetailData = []} = this.props;\n    let {id:articleID} = adminBlogDetailData[0] || {};\n    this.setState({\n      articleID\n    })\n  }\n  handleWebsiteChange = (value) => {\n    let autoCompleteResult;\n    if (!value) {\n      autoCompleteResult = [];\n    } else {\n      autoCompleteResult = ['.com', '.org', '.net'].map(domain => `${value}${domain}`);\n    }\n    this.setState({autoCompleteResult});\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {dispatch} = this.props;\n    let {articleID:id} = this.state;\n    if(!id){\n      return;\n    }\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        const {comment,email,nickname,website} = values;\n        console.log('Received values of form: ', values);\n\n        console.log({id,comment,email,nickname,website})\n\n      }\n    });\n  }\n  render() {\n    //接口\n    console.log(this.props)\n    let {adminBlogDetailData=[]} = this.props;\n    let {articleID=''} = this.state;\n    const objArticleInfo = getArticleInfo(adminBlogDetailData)\n    const {title='',url='',short='',type=''} = objArticleInfo\n    adminBlogDetailData=adminBlogDetailData[0] || {}\n\n\n    return (\n      <div className=\"detail\">\n        <Head>\n          <title>{COMMON_TITLE}</title>\n        </Head>\n        <Layout>\n          <Content style={{padding: '0 50px'}}>\n            <div style={{background: '#fff', padding: 24, minHeight: 380}}>\n              <ArticleTitle detailArticle={adminBlogDetailData}/>\n              <EditArticle dataSource={Object.assign({},adminBlogDetailData,articleID)}/>\n            </div>\n\n          </Content>\n        </Layout>\n      </div>\n    );\n  }\n}\nAdminDetail.getInitialProps = async function (context) {\n  const {id} = context.query\n  let queryStrObj = {id};\n  const adminBlogDetail = await fetch(getDetailUrl(queryStrObj))\n  const adminBlogDetailData = await adminBlogDetail.json()\n\n\n  return {adminBlogDetailData}\n}\nconst WrappedRegistrationForm = Form.create()(AdminDetail);\nexport default WrappedRegistrationForm;\n\n\n// WEBPACK FOOTER //\n// pages/AdminDetail/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AADA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAvCA;AAEA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AADA;AAGA;;;AA2BA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAKA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AAnEA;AACA;AAoEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAJA;AAOA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}